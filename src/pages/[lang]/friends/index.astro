---
import { getLangFromUrl, useTranslations } from "../../../i18n/utils";
import BlogPost from "../../../layouts/BlogPost.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  return ["zh", "en"].map((lang) => { //lang
    return { params: { lang } };
  });
}

// å‹æƒ…é“¾æ¥æ•°æ®
const friendLinksZh = [
  {
    avatar: 'https://zhuzi.dev/favicon.ico',
    name: 'ç«¹å­',
    link: 'https://zhuzi.dev/',
    description: 'Blah Blah Booooom',
  },
  {
    avatar: 'https://thirdshire.com/blackcat_avatar.jpg',
    name: 'ç¬¬ä¸‰å¤å°”',
    link: 'https://thirdshire.com',
    description: 'è®¤çœŸç”Ÿæ´»ï¼Œç§¯ææ‘¸é±¼',
  },
  {
    avatar: 'https://tiffahahahu7.github.io/gigigatgat/img/logo.png',
    name: 'å˜°å˜°ä¹ä¹',
    link: 'https://tiffahahahu7.github.io/gigigatgat/zh-tw/',
    description: 'ä½†é¡˜æˆ‘éˆé­‚æ²’æœ‰ç”Ÿé½',
  },
  {
    avatar: 'https://blog.douchi.space/dino.gif',
    name: 'æ¤’ç›è±†è±‰',
    link: 'https://blog.douchi.space/',
    description: 'å–œæ¬¢å°±ä¹° ä¸è¡Œå°±åˆ† å¤šå–çƒ­æ°´ é‡å¯ç”µè„‘'
  },
];

const friendLinksEn = [
  {
    avatar: '/favicon.ico',
    name: 'Friend Link 1',
    link: 'https://www.friendlink1.com',
    description: 'Description of Friend Link 1',
  },
  {
    avatar: '/favicon.ico',
    name: 'Friend Link 2',
    link: 'https://www.friendlink2.com',
    description: 'Description of Friend Link 2',
  },
  // æ·»åŠ æ›´å¤šå‹æƒ…é“¾æ¥
];

// æ ¹æ®è¯­è¨€é€‰æ‹©å‹æƒ…é“¾æ¥æ•°ç»„
const selectedFriendLinks = lang === 'zh' ? friendLinksZh : friendLinksEn;
---
<BlogPost
    title={t("friends.title")}
    description="friend"
    pubDate={new Date("2024-03-06")}
    lang={lang}
  >
    <div class="friend-links">
      <article>
        {selectedFriendLinks.map((link, index) => (
            <a href={link.link} target="_blank">
              <div class="friend-img">
                <img src={link.avatar} alt={link.name} width="60" height="60" loading="lazy"/>
              </div>
              <div class="info" style={{ paddingLeft: '10px' }}>
                {link.name}
                <div class="desc">
                {link.description}
                </div>
              </div>

            </a>
        ))}
      </article>
      <pre><code>
{t("friends.welcome")}
------------------------------
Icon: https://blog.asyncx.top/favicon.svg
Name: AsyncX
Link: https://blog.asyncx.top/
Description: ğŸŒŒ Per Aspera Ad Astra
------------------------------
</code></pre>
      <style>


        .desc {
          font-size: 0.7rem;
          color: var(--gray);
        }
        article {
          display: grid;
          grid-template-columns: 1fr 1fr;
          background: 0 0;
          gap: 10px;
        }
        pre {
          overflow-x: auto;
        }

        @media (min-width: 800px) {
        p {
          color: var(--gray);
          font-family: var(--font-family-mono);
        }
        * {
          box-sizing: border-box;
        }
        a {
          text-decoration: none;
          display: flex;
          align-items: center;
          transition: 0.3s ease;
          padding: 0.3rem 1rem;
          border-radius: 10px;
          color: var(--fontc);
        }
        a:hover {
          text-decoration: none;
          transition: 0.3s ease;
          background-color: #00000030;
        }
      }
      </style>

      <style>
        @media (max-width: 800px) {
          ul {
          display: flex;
          background: 0 0;
          gap: 8px;
          flex-wrap: wrap;
          flex-direction: column;
          align-content: center;
        }
        }
      </style>
    </div>
  </BlogPost>