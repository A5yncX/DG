---
import { getLangFromUrl, useTranslations } from "../../../i18n/utils";
import BlogPost from "../../../layouts/BlogPost.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export async function getStaticPaths() {
  return ["zh", "en"].map((lang) => { //lang
    return { params: { lang } };
  });
}

// 友情链接数据
const friendLinksZh = [
  {
    avatar: '/favicon.svg',
    name: 'AsyncX',
    link: 'https://blog.asyncx.top/',
    description: '🌌 Per Aspera Ad Astra'
  },
  {
    avatar: 'https://zhuzi.dev/favicon.ico',
    name: '竹子',
    link: 'https://zhuzi.dev/',
    description: 'Blah Blah Booooom',
  },
  {
    avatar: 'https://thirdshire.com/blackcat_avatar.jpg',
    name: '第三夏尔',
    link: 'https://thirdshire.com',
    description: '认真生活，积极摸鱼',
  },
  {
    avatar: 'https://tiffahahahu7.github.io/gigigatgat/img/logo.png',
    name: '嘰嘰乞乞',
    link: 'https://tiffahahahu7.github.io/gigigatgat/zh-tw/',
    description: '但願我靈魂沒有生鏽',
  },
];

const friendLinksEn = [
  {
    avatar: '/favicon.ico',
    name: 'Friend Link 1',
    link: 'https://www.friendlink1.com',
    description: 'Description of Friend Link 1',
  },
  {
    avatar: '/favicon.ico',
    name: 'Friend Link 2',
    link: 'https://www.friendlink2.com',
    description: 'Description of Friend Link 2',
  },
  // 添加更多友情链接
];

// 根据语言选择友情链接数组
const selectedFriendLinks = lang === 'zh' ? friendLinksZh : friendLinksEn;
---
<BlogPost
    title={t("friends.title")}
    description="friend"
    pubDate={new Date("2024-03-06")}
    lang={lang}
  >
    <div class="friend-links">
      <ul>
        {selectedFriendLinks.map((link, index) => (
          <li key={index} className="friend-link" style={{ display: 'flex', alignItems: 'center' }}>
            <a href={link.link}>
              <img src={link.avatar} alt={link.name} width="60" height="60"/>
            </a>
            <div class="info" style={{ paddingLeft: '10px' }}>
              <p>
                <a href={link.link}>
                {link.name}
                <p>{link.description}</p>
                </a>
              </p>
            </div>
          </li>
        ))}
      </ul>

      <pre><code>
{t("friends.welcome")}
------------------------------
Icon: 'https://blog.asyncx.top/favicon.svg',
Name: 'AsyncX',
Link: 'https://blog.asyncx.top/',
Description: '🌌 Per Aspera Ad Astra'
------------------------------
</code></pre>
      <style>
        pre {
          overflow-x: auto;
        }
        @media (min-width: 800px) {
        ul {
          display: grid;
          grid-template-columns: 1fr 1fr;
          background: 0 0;
          gap: 8px;
        }
        p {
          color: var(--gray);
          font-family: var(--font-family-mono);
        }
        ul li {
          transition: 0.3s ease;
          padding: 0.3rem 1rem;
          border-radius: 10px;
        }
        ul li:hover {
          transition: 0.3s ease;
          background-color: #00000030;
        }

      }
      </style>

      <style>
        @media (max-width: 800px) {
          ul {
          display: flex;
          background: 0 0;
          gap: 8px;
          flex-wrap: wrap;
          flex-direction: column;
          align-content: center;
        }
        }
      </style>
    </div>
  </BlogPost>